# Deep Dive: Introduction to Arrays in C++

This deep dive explores complex aspects of arrays, including memory management, pointers integration, common interview questions, and pitfalls. Aimed at serious students for mastery.

## Complex Topics and Illustrations

### Arrays and Pointers (Advanced)
Arrays are closely tied to pointers. An array name is a constant pointer.

Medium Program:
```cpp
#include <iostream>
void printArray(int* arr, int size) {  // Array decays to pointer
    for(int i=0; i<size; i++) {
        std::cout << *(arr + i) << " ";  // Pointer arithmetic
    }
}
int main() {
    int arr[5] = {1,2,3,4,5};
    printArray(arr, 5);  // Passes pointer
    return 0;
}
```
Complex: Dynamic arrays using new/delete.
```cpp
#include <iostream>
int main() {
    int size = 5;
    int* dynArr = new int[size];  // Heap allocation
    for(int i=0; i<size; i++) dynArr[i] = i*10;
    // Use...
    delete[] dynArr;  // Must delete to avoid leak
    return 0;
}
```
Pitfall: Memory leaks if forget delete[].

### Multi-Dimensional Arrays
2D arrays as arrays of arrays.

Example:
```cpp
#include <iostream>
int main() {
    int matrix[3][3] = {{1,2,3},{4,5,6},{7,8,9}};
    for(int i=0; i<3; i++) {
        for(int j=0; j<3; j++) {
            std::cout << matrix[i][j] << " ";
        }
        std::cout << std::endl;
    }
    return 0;
}
```
In memory: Row-major order.

### Interview Questions and Detailed Answers

1. **Question:** How do arrays differ from linked lists? (Intention: Test data structure knowledge; arrays fast access, slow insert/delete.)  
   **Answer:** Arrays: Contiguous, O(1) access, O(n) insert/delete. Linked lists: Non-contiguous, O(n) access, O(1) insert/delete if position known.

2. **Question:** Implement array rotation by k positions. (Intention: Check in-place manipulation, modulo for efficiency.)  
   **Answer:** Brute: Shift k times (O(n*k)). Optimized: Reverse parts (O(n)). Code for right rotate:
   ```cpp
   void rotate(int arr[], int n, int k) {
       k %= n;
       std::reverse(arr, arr+n);
       std::reverse(arr, arr+k);
       std::reverse(arr+k, arr+n);
   }
   ```

3. **Question:** Find missing number in 1 to n array. (Intention: Math trick vs. sort; efficiency.)  
   **Answer:** Sum formula: expected = n*(n+1)/2, subtract actual sum. O(n) time.

4. **Question:** Handle large arrays—stack vs. heap? (Intention: Memory limits awareness.)  
   **Answer:** Stack limited (e.g., 1MB), use heap for large via new[].

5. **Question:** Why no bounds checking? (Intention: C++ philosophy—performance over safety.)  
   **Answer:** For speed; use std::array or vector for checks.

6. **Question:** Array as function parameter pitfalls. (Intention: Understand decay.)  
   **Answer:** Loses size; pass by reference or with size.

Additional: Discuss VLAs (variable length arrays—not standard in C++), use vector instead.

This deepens understanding for interviews focusing on efficiency and edge cases.