# Hour 13 LeetCode Problem: Contains Duplicate

This document illustrates **LeetCode 217: Contains Duplicate**, an easy problem using STL algorithms with containers. It includes the problem description, coding pattern, solution, complexity analysis, and test cases.

## Problem Statement: LeetCode 217 - Contains Duplicate
**Link**: [LeetCode 217](https://leetcode.com/problems/contains-duplicate/)

**Description**:  
Given an integer array `nums`, return `true` if any value appears at least twice, else return `false`.

**Constraints**:
- `1 <= nums.length <= 10^5`
- `-10^9 <= nums[i] <= 10^9`

**Example**:
- Input: `nums = [1,2,3,1]`  
  Output: `true`  
  Explanation: `1` appears twice.

**Real-World Analogy**: Checking for duplicate names in a guest list.

## Coding Pattern: Unordered Set with for_each
- Use `unordered_set` to track seen elements.  
- Use `for_each` to iterate and check for duplicates.

## Solution
**Algorithm**:
1. Create `unordered_set` for unique elements.  
2. Use `for_each` with a functor to detect duplicates.  
3. Return `true` if duplicate found, else `false`.

**Code**:
```cpp
#include <vector>
#include <unordered_set>
#include <algorithm>
using namespace std;

class Solution {
public:
    bool containsDuplicate(vector<int>& nums) {
        unordered_set<int> seen;
        bool has_duplicate = false;
        for_each(nums.begin(), nums.end(), [&](int x) {
            if (!seen.insert(x).second) has_duplicate = true;
        });
        return has_duplicate;
    }
};
```

**Time Complexity**: O(n)  
- `for_each` and `insert` are O(1) average per element.

**Space Complexity**: O(n)  
- `unordered_set` stores up to `n` elements.

**Explanation**:  
- `insert` returns pair with `second` as `false` if element exists.  
- `for_each` iterates efficiently with lambda.

## Test Cases
1. **Typical Case**: `nums = [1,2,3,1]` → Output: `true`  
2. **No Duplicates**: `nums = [1,2,3,4]` → Output: `false`  
3. **Single Element**: `nums = [1]` → Output: `false`  
4. **All Duplicates**: `nums = [1,1,1]` → Output: `true`  
5. **Empty Array**: `nums = []` → Output: `false` (not applicable due to constraints)

**Test Case Implementation**:
```cpp
#include <iostream>
#include <vector>
#include <unordered_set>
#include <algorithm>
using namespace std;

bool containsDuplicate(vector<int>& nums) {
    unordered_set<int> seen;
    bool has_duplicate = false;
    for_each(nums.begin(), nums.end(), [&](int x) {
        if (!seen.insert(x).second) has_duplicate = true;
    });
    return has_duplicate;
}

int main() {
    vector<int> nums1 = {1, 2, 3, 1};
    cout << "Test 1: " << (containsDuplicate(nums1) ? "true" : "false") << endl;  // true
    
    vector<int> nums2 = {1, 2, 3, 4};
    cout << "Test 2: " << (containsDuplicate(nums2) ? "true" : "false") << endl;  // false
    
    vector<int> nums3 = {1};
    cout << "Test 3: " << (containsDuplicate(nums3) ? "true" : "false") << endl;  // false
    
    vector<int> nums4 = {1, 1, 1};
    cout << "Test 4: " << (containsDuplicate(nums4) ? "true" : "false") << endl;  // true
    
    return 0;
}
```

**Output**:
```
Test 1: true
Test 2: false
Test 3: false
Test 4: true
```

## Optimization Mindset
- **Efficiency**: `unordered_set` provides O(1) average lookup.  
- **Key Insight**: Early exit possible with custom functor.  
- **Edge Cases**: Handle single element, large arrays.