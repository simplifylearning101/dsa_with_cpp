# Hour 9 Homework Solutions: Multiset and Multimap Practice Problems

Below are solutions to the 12 homework problems, each with fully commented C++ code to help students understand STL `multiset` and `multimap` implementation. The solutions are beginner-friendly and emphasize interview-relevant techniques.

1. **Problem**: Create a multiset, insert 5 elements with duplicates, and print its size.  
```cpp
#include <iostream>
#include <set>
using namespace std;

int main() {
    multiset<int> ms;
    
    // Insert 5 elements
    ms.insert(1); ms.insert(2); ms.insert(1); ms.insert(3); ms.insert(2);
    
    // Print size
    cout << "Size: " << ms.size() << endl; // Output: 5
    
    return 0;
}
```

2. **Problem**: Print elements of a multiset in sorted order.  
```cpp
#include <iostream>
#include <set>
using namespace std;

int main() {
    multiset<int> ms;
    ms.insert(3); ms.insert(1); ms.insert(1); ms.insert(2);
    
    // Print in sorted order
    cout << "Multiset: ";
    for (const int& x : ms) {
        cout << x << " "; // Output: 1 1 2 3
    }
    cout << endl;
    
    return 0;
}
```

3. **Problem**: Count occurrences of an element in a multiset using `count`.  
```cpp
#include <iostream>
#include <set>
using namespace std;

int main() {
    multiset<int> ms;
    ms.insert(1); ms.insert(1); ms.insert(2);
    
    // Count occurrences
    int value = 1;
    cout << "Count of " << value << ": " << ms.count(value) << endl; // Output: 2
    
    return 0;
}
```

4. **Problem**: Create a multimap and insert 5 key-value pairs with duplicate keys.  
```cpp
#include <iostream>
#include <map>
#include <string>
using namespace std;

int main() {
    multimap<string, int> mm;
    
    // Insert 5 key-value pairs
    mm.insert({"a", 1}); mm.insert({"b", 2}); mm.insert({"a", 3}); mm.insert({"b", 4}); mm.insert({"c", 5});
    
    // Print size
    cout << "Size: " << mm.size() << endl; // Output: 5
    
    return 0;
}
```

5. **Problem**: Simulate a frequency counter using a multiset.  
```cpp
#include <iostream>
#include <set>
#include <vector>
#include <map>
using namespace std;

void printFrequency(const vector<int>& nums) {
    multiset<int> ms(nums.begin(), nums.end());
    map<int, int> freq;
    for (const int& x : ms) {
        freq[x]++;
    }
    for (const auto& pair : freq) {
        cout << pair.first << ":" << pair.second << " "; // Output: 1:2 2:1
    }
    cout << endl;
}

int main() {
    vector<int> nums = {1, 2, 1};
    printFrequency(nums);
    return 0;
}
```

6. **Problem**: Find the top k frequent elements in an array using a multiset.  
```cpp
#include <iostream>
#include <set>
#include <unordered_map>
#include <vector>
using namespace std;

vector<int> topKFrequent(const vector<int>& nums, int k) {
    unordered_map<int, int> freq;
    for (int num : nums) {
        freq[num]++;
    }
    multiset<pair<int, int>, greater<pair<int, int>>> ms; // {freq, num}
    for (const auto& pair : freq) {
        ms.insert({pair.second, pair.first});
    }
    vector<int> result;
    auto it = ms.begin();
    for (int i = 0; i < k; ++i) {
        result.push_back(it->second);
        ++it;
    }
    return result;
}

int main() {
    vector<int> nums = {1, 1, 1, 2, 2, 3};
    int k = 2;
    vector<int> result = topKFrequent(nums, k);
    cout << "[";
    for (int i = 0; i < result.size(); ++i) {
        cout << result[i] << (i < result.size() - 1 ? "," : "");
    }
    cout << "]" << endl; // Output: [1,2]
    return 0;
}
```

7. **Problem**: Find the intersection of two arrays with duplicates using a multiset.  
```cpp
#include <iostream>
#include <set>
#include <vector>
using namespace std;

vector<int> intersect(const vector<int>& nums1, const vector<int>& nums2) {
    multiset<int> ms1(nums1.begin(), nums1.end());
    vector<int> result;
    for (int num : nums2) {
        auto it = ms1.find(num);
        if (it != ms1.end()) {
            result.push_back(num);
            ms1.erase(it); // Erase one occurrence
        }
    }
    return result;
}

int main() {
    vector<int> nums1 = {1, 2, 2, 1}, nums2 = {2, 2};
    vector<int> result = intersect(nums1, nums2);
    cout << "[";
    for (int i = 0; i < result.size(); ++i) {
        cout << result[i] << (i < result.size() - 1 ? "," : "");
    }
    cout << "]" << endl; // Output: [2,2]
    return 0;
}
```

8. **Problem**: Sort characters by frequency using a multimap.  
```cpp
#include <iostream>
#include <map>
#include <string>
using namespace std;

string frequencySort(const string& s) {
    unordered_map<char, int> freq;
    for (char c : s) {
        freq[c]++;
    }
    multimap<int, char, greater<int>> mm; // {freq, char}
    for (const auto& pair : freq) {
        mm.insert({pair.second, pair.first});
    }
    string result;
    for (const auto& pair : mm) {
        result += string(pair.first, pair.second);
    }
    return result;
}

int main() {
    string s = "tree";
    cout << frequencySort(s) << endl; // Output: eert
    return 0;
}
```

9. **Problem**: Simulate a phone book with multiple numbers per person using a multimap.  
```cpp
#include <iostream>
#include <map>
#include <string>
using namespace std;

void printPhoneBook(const multimap<string, string>& phone_book) {
    cout << "Phone book: ";
    for (const auto& pair : phone_book) {
        cout << pair.first << ":" << pair.second << " ";
    }
    cout << endl;
}

int main() {
    multimap<string, string> phone_book;
    phone_book.insert({"Alice", "1234567890"});
    phone_book.insert({"Alice", "1112223333"});
    phone_book.insert({"Bob", "9876543210"});
    printPhoneBook(phone_book); // Output: Alice:1234567890 Alice:1112223333 Bob:9876543210
    return 0;
}
```

10. **Problem**: Find the longest harmonious subsequence using a multiset.  
```cpp
#include <iostream>
#include <set>
#include <unordered_map>
#include <vector>
using namespace std;

int findLHS(const vector<int>& nums) {
    unordered_map<int, int> freq;
    for (int num : nums) {
        freq[num]++;
    }
    multiset<int> ms(nums.begin(), nums.end());
    int max_len = 0;
    for (const auto& num : ms) {
        if (freq.count(num + 1)) {
            max_len = max(max_len, freq[num] + freq[num + 1]);
        }
    }
    return max_len;
}

int main() {
    vector<int> nums = {1, 3, 2, 2, 5, 2, 3, 7};
    cout << "Longest harmonious subsequence: " << findLHS(nums) << endl; // Output: 5
    return 0;
}
```

11. **Problem**: Find top k frequent words using a multimap.  
```cpp
#include <iostream>
#include <map>
#include <string>
#include <vector>
using namespace std;

vector<string> topKFrequent(const vector<string>& words, int k) {
    unordered_map<string, int> freq;
    for (const string& word : words) {
        freq[word]++;
    }
    multimap<int, string, greater<int>> mm;
    for (const auto& pair : freq) {
        mm.insert({pair.second, pair.first});
    }
    vector<string> result;
    auto it = mm.begin();
    for (int i = 0; i < k && it != mm.end(); ++it, ++i) {
        result.push_back(it->second);
    }
    return result;
}

int main() {
    vector<string> words = {"i", "love", "leetcode", "i", "love", "coding"};
    int k = 2;
    vector<string> result = topKFrequent(words, k);
    cout << "[";
    for (int i = 0; i < result.size(); ++i) {
        cout << "\"" << result[i] << "\"" << (i < result.size() - 1 ? "," : "");
    }
    cout << "]" << endl; // Output: ["i","love"]
    return 0;
}
```

12. **Problem**: Merge two multisets and print unique elements.  
```cpp
#include <iostream>
#include <set>
using namespace std;

void mergeAndPrintUnique(const multiset<int>& ms1, const multiset<int>& ms2) {
    set<int> unique(ms1.begin(), ms1.end());
    unique.insert(ms2.begin(), ms2.end());
    cout << "Unique elements: ";
    for (const int& x : unique) {
        cout << x << " "; // Output: 1 2 3
    }
    cout << endl;
}

int main() {
    multiset<int> ms1 = {1, 1, 2};
    multiset<int> ms2 = {2, 3, 3};
    mergeAndPrintUnique(ms1, ms2);
    return 0;
}
```